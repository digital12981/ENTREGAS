#!/usr/bin/env node

/**
 * Script para garantir que um favicon.ico b√°sico existe
 * Este script cria um favicon simples se ele n√£o existir
 */

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

// Configurar caminhos
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
const rootDir = process.cwd();
const publicDir = path.join(rootDir, 'public');

console.log('üîç Verificando favicon.ico...');

// Garantir que o diret√≥rio public exista
if (!fs.existsSync(publicDir)) {
  console.log('Criando diret√≥rio public/ que n√£o existe...');
  fs.mkdirSync(publicDir, { recursive: true });
}

// Verificar se favicon.ico j√° existe
const faviconPath = path.join(publicDir, 'favicon.ico');
if (fs.existsSync(faviconPath)) {
  console.log('‚úÖ favicon.ico j√° existe.');
  process.exit(0);
}

// Se n√£o existe, criar um favicon b√°sico
console.log('favicon.ico n√£o encontrado. Criando favicon b√°sico...');

// Dados bin√°rios para um favicon m√≠nimo de 16x16 pixels (laranja da Shopee)
// Este √© um favicon ICO b√°sico com uma cor s√≥lida laranja
const faviconData = Buffer.from([
  0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x10, 0x10, 0x00, 0x00, 0x01, 0x00, 
  0x20, 0x00, 0x68, 0x04, 0x00, 0x00, 0x16, 0x00, 0x00, 0x00, 0x28, 0x00, 
  0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x01, 0x00, 
  0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 
  0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF, 0xEE, 0x4D, 
  0x2D, 0xFF, 0xEE, 0x4D, 0x2D, 0xFF
]);

try {
  fs.writeFileSync(faviconPath, faviconData);
  console.log('‚úÖ favicon.ico criado com sucesso.');
} catch (err) {
  console.error('‚ùå Erro ao criar favicon.ico:', err.message);
  process.exit(1);
}