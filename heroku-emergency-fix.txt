# SOLUÇÃO DE EMERGÊNCIA PARA O HEROKU

## PROBLEMA:
O erro `Cannot find package '@vitejs/plugin-react'` acontece porque o Heroku não está conseguindo acessar algumas dependências que são necessárias mesmo em produção.

## SOLUÇÃO RÁPIDA:

### Opção 1: Configurar NPM para instalar todas as dependências
Esta é a opção mais rápida e simples. Execute estes comandos no terminal:

```
heroku config:set NPM_CONFIG_PRODUCTION=false
heroku config:set NODE_VERSION=18.18.0
git commit --allow-empty -m "Forçar redeploy"
git push heroku main
```

### Opção 2: Usar script de build personalizado

1. O arquivo `build-file.js` foi criado para resolver este problema específico.
2. Configure o Heroku para usar este arquivo:

```
heroku buildpacks:clear
heroku buildpacks:set heroku/nodejs
heroku config:set NPM_CONFIG_PRODUCTION=false
heroku config:set NODE_VERSION=18.18.0
heroku config:set BUILD_COMMAND="node build-file.js"
git push heroku main
```

### Opção 3: Migrar para outra plataforma de hospedagem

Se você continuar enfrentando problemas com o Heroku, considere migrar para:
- Render.com
- Vercel
- Railway

Estas plataformas lidam melhor com aplicações modernas baseadas em ESM e têm configurações mais simples para projetos Node.js modernos.

## VERIFICAÇÃO

Para verificar se seu aplicativo está funcionando, acesse a rota de diagnóstico:

```
curl https://www.shopee-entregas.com/api/diagnostic
```

Se funcionar, você verá um JSON com informações sobre o servidor.